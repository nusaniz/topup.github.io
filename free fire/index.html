<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous" />

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />

    <!-- My CSS -->
    <link rel="stylesheet" href="style.css" />

    <title>Nizar | Free Fire</title>
    
  </head>
  <body id="home">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#"><img src="../img/logo-white.png" alt=""></a>

      </div>
    </nav>
    <!-- Akhir Navbar -->

    <!-- Contact -->
    <section id="contact">
      <div class="container">
        <div class="row text-center mb-3">
          <div class="col">
            <h2>TopUp Free Fire</h2>
          </div>
        </div>
        <div class="row justify-content-center" style="margin: 2rem 0 0 0;">
          <div class="col-md-6">
            <div class="alert alert-success alert-dismissible fade show d-none my-alert" role="alert">
              Pesanan anda sedang di proses.
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            <form name="nizar-contact-form">
              <div class="mb-3">
                <label for="uid" class="form-label">User ID</label>
                <input type="number" class="form-control" id="uid" aria-describedby="uid" name="uid" required/>
              </div>
              <div class="mb-3">
                <label for="nama" class="form-label">Nama</label>
                <input type="text" class="form-control" id="nama" aria-describedby="nama" name="nama" required/>
              </div>
              <div class="mb-3 d-none">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" aria-describedby="email" name="email"/>
              </div>
              <div class="mb-3">
                <label for="nohp" class="form-label">No Hp</label>
                <input type="number" class="form-control" id="nohp" aria-describedby="nohp" name="nohp" required/>
              </div>
              <div class="mb-3">
                <label for="topup" class="form-label">Jumlah</label>
                <!-- <textarea class="form-control" id="pesan" rows="3" name="pesan" required></textarea> -->
                <select name="topup" id="topup" required>
                    <option value="" disabled selected>Pilih diamond</option>
                    <option value="5/2.000">5ðŸ”· / Rp. 2.000</option>
                    <option value="12/3.000">12ðŸ”· / Rp. 3.000</option>
                    <option value="50/9.000">50ðŸ”· / Rp. 9.000</option>
                    <option value="70/11.000">70ðŸ”· / Rp. 11.000</option>
                    <option value="140/21.000">140ðŸ”· / Rp. 21.000</option>
                    <option value="355/51.000" >355ðŸ”· / Rp. 51.000</option>
                    <option value="720/101.000">720ðŸ”· / Rp. 101.000</option>
                    <option value="1.450,">1.450ðŸ”· / Rp. 201.000</option>
                    <option value="2.180/301.000">2.180ðŸ”· / Rp. 301.000</option>
                    <option value="3.640/501.000">3.640ðŸ”· / Rp. 501.000</option>
                    <option value="7.290/1.001.000">7.290ðŸ”· / Rp. 1.001.000</option>
                    <option value="36.500/5.001.000">36.500ðŸ”· / Rp. 5.001.000</option>
                    <option value="73.100/10.001.000">73.100ðŸ”· / Rp. 10.001.000</option>
                </select>
              </div>
              <button type="submit" class="btn btn-primary btn-kirim">Beli</button>

              <button class="btn btn-primary btn-loading d-none" type="button" disabled>
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                Loading...
              </button>
            </form>
          </div>
        </div>
      </div>

    </section>
    <!-- Akhir Contact -->

    <!-- Footer -->
    <footer class="text-black text-center pb-5" style="margin: 2rem 0 0 0;">
      <p>Created with <i class="bi bi-heart-fill text-danger"></i> by <a href="http://nizarwiki.ga" class="text-black fw-bold">Nizar</a></p>
    </footer>
    <!-- Akhir Footer -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>

    <script>
      const scriptURL = 'https://script.google.com/macros/s/AKfycbzpXmqT1SjfiBYA2hEEVVXaAidwdb3UZzhOmtGk8W4HIv6Y6BT1CPC_PYtAu4SSSYELeg/exec';
      const form = document.forms['nizar-contact-form'];
      const btnKirim = document.querySelector('.btn-kirim');
      const btnLoading = document.querySelector('.btn-loading');
      const myAlert = document.querySelector('.my-alert');

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        // ketika tombol submit diklik
        // tampilkan tombol loading, hilangkan tombol kirim
        btnLoading.classList.toggle('d-none');
        btnKirim.classList.toggle('d-none');
        fetch(scriptURL, { method: 'POST', body: new FormData(form) })
          .then((response) => {
            // tampilkan tombol kirim, hilangkan tombol loading
            btnLoading.classList.toggle('d-none');
            btnKirim.classList.toggle('d-none');
            // tampilkan alert
            myAlert.classList.toggle('d-none');
            // reset formnya
            form.reset();
            console.log('Success!', response);
          })
          .catch((error) => console.error('Error!', error.message));
      });
    </script>
  </body>
</html>
